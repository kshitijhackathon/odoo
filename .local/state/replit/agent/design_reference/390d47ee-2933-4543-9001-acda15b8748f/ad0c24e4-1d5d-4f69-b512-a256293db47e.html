<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CivicTrack - Civic Issue Reporting Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        'civic-blue': '#3B82F6',
                        'civic-amber': '#F59E0B', 
                        'civic-emerald': '#10B981',
                        'civic-red': '#EF4444',
                    }
                }
            }
        };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 font-sans">
    <!-- @COMPONENT: AppContainer -->
    <div id="app" class="min-h-screen">
        
        <!-- @COMPONENT: Header -->
        <header class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center space-x-4">
                        <div class="flex items-center space-x-2">
                            <div class="w-8 h-8 bg-civic-blue rounded-lg flex items-center justify-center">
                                <i class="fas fa-city text-white text-sm"></i>
                            </div>
                            <span class="text-xl font-bold text-gray-900">CivicTrack</span>
                        </div>
                    </div>
                    
                    <nav class="hidden md:flex items-center space-x-6">
                        <a href="#" class="text-gray-600 hover:text-civic-blue transition-colors font-medium">Map</a>
                        <a href="#" class="text-gray-600 hover:text-civic-blue transition-colors font-medium">My Reports</a>
                        <a href="#" class="text-gray-600 hover:text-civic-blue transition-colors font-medium">Activity</a>
                    </nav>
                    
                    <div class="flex items-center space-x-4">
                        <button class="p-2 text-gray-600 hover:text-civic-blue transition-colors" aria-label="Notifications">
                            <i class="fas fa-bell"></i>
                        </button>
                        <!-- Mock user profile -->
                        <div class="flex items-center space-x-2" data-mock="true">
                            <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center">
                                <i class="fas fa-user text-gray-600 text-sm"></i>
                            </div>
                            <span class="text-sm font-medium text-gray-700 hidden sm:block" data-bind="user.name">Sarah Chen</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- @END_COMPONENT: Header -->

        <!-- @COMPONENT: MainContent -->
        <main class="relative">
            
            <!-- @COMPONENT: FilterBar -->
            <div class="bg-white border-b border-gray-200 px-4 py-4">
                <div class="max-w-7xl mx-auto">
                    <div class="flex flex-wrap gap-3">
                        <div class="flex items-center space-x-2">
                            <span class="text-sm font-medium text-gray-700">Filters:</span>
                        </div>
                        
                        <!-- Category Filters -->
                        <div class="flex flex-wrap gap-2">
                            <button class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-civic-blue text-white hover:bg-blue-600 transition-colors" data-filter="all">
                                All Issues
                            </button>
                            <button class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors" data-filter="garbage">
                                üóëÔ∏è Waste
                            </button>
                            <button class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors" data-filter="water">
                                üíß Water
                            </button>
                            <button class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors" data-filter="roads">
                                üöß Roads
                            </button>
                            <button class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors" data-filter="traffic">
                                üö¶ Traffic
                            </button>
                        </div>
                        
                        <!-- Status Filters -->
                        <div class="flex flex-wrap gap-2 border-l border-gray-200 pl-3">
                            <button class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors" data-filter="reported">
                                <span class="w-2 h-2 bg-civic-blue rounded-full mr-2"></span>Reported
                            </button>
                            <button class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors" data-filter="in-progress">
                                <span class="w-2 h-2 bg-civic-amber rounded-full mr-2"></span>In Progress
                            </button>
                            <button class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors" data-filter="resolved">
                                <span class="w-2 h-2 bg-civic-emerald rounded-full mr-2"></span>Resolved
                            </button>
                        </div>
                        
                        <!-- Distance Filter -->
                        <div class="flex flex-wrap gap-2 border-l border-gray-200 pl-3">
                            <select class="px-3 py-1.5 rounded-full text-sm font-medium bg-gray-100 text-gray-700 border-0 focus:ring-2 focus:ring-civic-blue" data-filter="distance">
                                <option>üìç 1km</option>
                                <option>üìç 3km</option>
                                <option>üìç 5km</option>
                                <option>üìç 10km</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: FilterBar -->
            
            <!-- @COMPONENT: MapView -->
            <div class="relative h-96 lg:h-[500px] bg-gray-100">
                <!-- Mock interactive map -->
                <!-- A satellite view of an urban area with streets and buildings -->
                <div class="w-full h-full bg-cover bg-center relative" style="background-image: url('https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1200&h=600');">
                    <div class="absolute inset-0 bg-blue-900/20"></div>
                    
                    <!-- Mock issue pins -->
                    <!-- @MAP: issues.map(issue => ( -->
                    <div class="absolute top-20 left-32 transform -translate-x-1/2 -translate-y-1/2">
                        <button class="w-8 h-8 bg-civic-blue rounded-full shadow-lg flex items-center justify-center text-white text-lg hover:scale-110 transition-transform" data-issue-id="1" aria-label="Garbage issue reported">
                            üóëÔ∏è
                        </button>
                    </div>
                    
                    <div class="absolute top-40 left-48 transform -translate-x-1/2 -translate-y-1/2">
                        <button class="w-8 h-8 bg-civic-amber rounded-full shadow-lg flex items-center justify-center text-white text-lg hover:scale-110 transition-transform" data-issue-id="2" aria-label="Water leak in progress">
                            üíß
                        </button>
                    </div>
                    
                    <div class="absolute top-60 left-40 transform -translate-x-1/2 -translate-y-1/2">
                        <button class="w-8 h-8 bg-civic-emerald rounded-full shadow-lg flex items-center justify-center text-white text-lg hover:scale-110 transition-transform" data-issue-id="3" aria-label="Road issue resolved">
                            üöß
                        </button>
                    </div>
                    
                    <div class="absolute top-32 left-60 transform -translate-x-1/2 -translate-y-1/2">
                        <button class="w-8 h-8 bg-civic-red rounded-full shadow-lg flex items-center justify-center text-white text-lg hover:scale-110 transition-transform" data-issue-id="4" aria-label="Traffic issue flagged">
                            üö¶
                        </button>
                    </div>
                    <!-- @END_MAP )) -->
                    
                    <!-- Map controls -->
                    <div class="absolute top-4 right-4 flex flex-col space-y-2">
                        <button class="w-10 h-10 bg-white rounded-lg shadow-md flex items-center justify-center text-gray-600 hover:text-civic-blue transition-colors" aria-label="Zoom in">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="w-10 h-10 bg-white rounded-lg shadow-md flex items-center justify-center text-gray-600 hover:text-civic-blue transition-colors" aria-label="Zoom out">
                            <i class="fas fa-minus"></i>
                        </button>
                        <button class="w-10 h-10 bg-white rounded-lg shadow-md flex items-center justify-center text-gray-600 hover:text-civic-blue transition-colors" aria-label="Center on location">
                            <i class="fas fa-location-arrow"></i>
                        </button>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: MapView -->
            
            <!-- @COMPONENT: IssuesList -->
            <div class="max-w-7xl mx-auto px-4 py-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-900">Recent Issues</h2>
                    <div class="text-sm text-gray-600" data-bind="issueCount">
                        Showing 1-12 of 47 issues
                    </div>
                </div>
                
                <!-- @MAP: issues.map(issue => ( -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    
                    <!-- Issue Card 1 -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow" data-mock="true">
                        <!-- Card image with status overlay -->
                        <div class="relative h-48">
                            <!-- Overflowing garbage bins on a city street -->
                            <img src="https://images.unsplash.com/photo-1565967511849-76a60a516170?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&h=300" alt="Overflowing garbage bins" class="w-full h-full object-cover" />
                            <div class="absolute top-3 left-3">
                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-civic-blue text-white">
                                    <span class="w-1.5 h-1.5 bg-white rounded-full mr-1"></span>
                                    Reported
                                </span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <span class="text-2xl">üóëÔ∏è</span>
                            </div>
                        </div>
                        
                        <!-- Card content -->
                        <div class="p-4">
                            <div class="flex items-start justify-between mb-2">
                                <h3 class="text-lg font-semibold text-gray-900 line-clamp-2" data-bind="issue.title">
                                    Overflowing garbage bins on Main Street
                                </h3>
                                <button class="text-gray-400 hover:text-red-500 transition-colors ml-2" aria-label="Flag as spam">
                                    <i class="fas fa-flag text-sm"></i>
                                </button>
                            </div>
                            
                            <p class="text-gray-600 text-sm mb-3 line-clamp-2" data-bind="issue.description">
                                Multiple garbage bins are overflowing near the intersection of Main St and Oak Ave. Trash is scattered around the area.
                            </p>
                            
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center space-x-2">
                                    <div class="flex items-center space-x-1">
                                        <div class="w-5 h-5 bg-civic-emerald rounded-full flex items-center justify-center">
                                            <i class="fas fa-check text-white text-xs"></i>
                                        </div>
                                        <span class="text-xs font-medium text-gray-700" data-bind="user.name">Sarah Chen</span>
                                    </div>
                                    <span class="text-gray-400">¬∑</span>
                                    <span class="text-xs text-gray-500" data-bind="issue.distance">0.3 km away</span>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-4">
                                    <button class="flex items-center space-x-1 text-gray-600 hover:text-civic-blue transition-colors" data-event="click:upvote">
                                        <i class="fas fa-arrow-up text-sm"></i>
                                        <span class="text-sm font-medium" data-bind="issue.upvotes">24</span>
                                    </button>
                                    <button class="flex items-center space-x-1 text-gray-600 hover:text-civic-blue transition-colors" data-event="click:comment">
                                        <i class="fas fa-comment text-sm"></i>
                                        <span class="text-sm font-medium" data-bind="issue.comments">5</span>
                                    </button>
                                </div>
                                <span class="text-xs text-gray-500" data-bind="issue.timeAgo">2 hours ago</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Issue Card 2 -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow" data-mock="true">
                        <div class="relative h-48">
                            <!-- Water leak from broken pipe flooding the street -->
                            <img src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&h=300" alt="Water leak flooding street" class="w-full h-full object-cover" />
                            <div class="absolute top-3 left-3">
                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-civic-amber text-white">
                                    <span class="w-1.5 h-1.5 bg-white rounded-full mr-1"></span>
                                    In Progress
                                </span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <span class="text-2xl">üíß</span>
                            </div>
                        </div>
                        
                        <div class="p-4">
                            <div class="flex items-start justify-between mb-2">
                                <h3 class="text-lg font-semibold text-gray-900 line-clamp-2" data-bind="issue.title">
                                    Major water leak on Pine Avenue
                                </h3>
                                <button class="text-gray-400 hover:text-red-500 transition-colors ml-2" aria-label="Flag as spam">
                                    <i class="fas fa-flag text-sm"></i>
                                </button>
                            </div>
                            
                            <p class="text-gray-600 text-sm mb-3 line-clamp-2" data-bind="issue.description">
                                Large water leak causing flooding on Pine Avenue. Water department has been notified and crews are en route.
                            </p>
                            
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center space-x-2">
                                    <div class="flex items-center space-x-1">
                                        <div class="w-5 h-5 bg-gray-400 rounded-full flex items-center justify-center">
                                            <i class="fas fa-user-secret text-white text-xs"></i>
                                        </div>
                                        <span class="text-xs font-medium text-gray-700">Anonymous</span>
                                    </div>
                                    <span class="text-gray-400">¬∑</span>
                                    <span class="text-xs text-gray-500" data-bind="issue.distance">1.2 km away</span>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-4">
                                    <button class="flex items-center space-x-1 text-gray-600 hover:text-civic-blue transition-colors" data-event="click:upvote">
                                        <i class="fas fa-arrow-up text-sm"></i>
                                        <span class="text-sm font-medium" data-bind="issue.upvotes">18</span>
                                    </button>
                                    <button class="flex items-center space-x-1 text-gray-600 hover:text-civic-blue transition-colors" data-event="click:comment">
                                        <i class="fas fa-comment text-sm"></i>
                                        <span class="text-sm font-medium" data-bind="issue.comments">12</span>
                                    </button>
                                </div>
                                <span class="text-xs text-gray-500" data-bind="issue.timeAgo">4 hours ago</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Issue Card 3 -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow" data-mock="true">
                        <div class="relative h-48">
                            <!-- Large pothole in road surface causing traffic issues -->
                            <img src="https://images.unsplash.com/photo-1494515843206-f3117d3f51b7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&h=300" alt="Large pothole in road" class="w-full h-full object-cover" />
                            <div class="absolute top-3 left-3">
                                <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-civic-emerald text-white">
                                    <span class="w-1.5 h-1.5 bg-white rounded-full mr-1"></span>
                                    Resolved
                                </span>
                            </div>
                            <div class="absolute top-3 right-3">
                                <span class="text-2xl">üöß</span>
                            </div>
                        </div>
                        
                        <div class="p-4">
                            <div class="flex items-start justify-between mb-2">
                                <h3 class="text-lg font-semibold text-gray-900 line-clamp-2" data-bind="issue.title">
                                    Large pothole on Elm Street
                                </h3>
                                <button class="text-gray-400 hover:text-red-500 transition-colors ml-2" aria-label="Flag as spam">
                                    <i class="fas fa-flag text-sm"></i>
                                </button>
                            </div>
                            
                            <p class="text-gray-600 text-sm mb-3 line-clamp-2" data-bind="issue.description">
                                Dangerous pothole near school zone has been successfully repaired by the city maintenance crew.
                            </p>
                            
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center space-x-2">
                                    <div class="flex items-center space-x-1">
                                        <div class="w-5 h-5 bg-civic-emerald rounded-full flex items-center justify-center">
                                            <i class="fas fa-check text-white text-xs"></i>
                                        </div>
                                        <span class="text-xs font-medium text-gray-700" data-bind="user.name">Mike Johnson</span>
                                    </div>
                                    <span class="text-gray-400">¬∑</span>
                                    <span class="text-xs text-gray-500" data-bind="issue.distance">0.8 km away</span>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-4">
                                    <button class="flex items-center space-x-1 text-gray-600 hover:text-civic-blue transition-colors" data-event="click:upvote">
                                        <i class="fas fa-arrow-up text-sm"></i>
                                        <span class="text-sm font-medium" data-bind="issue.upvotes">35</span>
                                    </button>
                                    <button class="flex items-center space-x-1 text-gray-600 hover:text-civic-blue transition-colors" data-event="click:comment">
                                        <i class="fas fa-comment text-sm"></i>
                                        <span class="text-sm font-medium" data-bind="issue.comments">8</span>
                                    </button>
                                </div>
                                <span class="text-xs text-gray-500" data-bind="issue.timeAgo">1 day ago</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Additional cards would continue here -->
                    
                </div>
                <!-- @END_MAP )) -->
                
                <!-- Load more button -->
                <div class="text-center mt-8">
                    <button class="px-6 py-3 bg-civic-blue text-white rounded-lg font-medium hover:bg-blue-600 transition-colors" data-event="click:loadMore">
                        Load More Issues
                    </button>
                </div>
            </div>
            <!-- @END_COMPONENT: IssuesList -->
            
        </main>
        <!-- @END_COMPONENT: MainContent -->
        
        <!-- @COMPONENT: FloatingActionButton -->
        <button class="fixed bottom-6 right-6 w-14 h-14 bg-civic-blue text-white rounded-full shadow-lg hover:bg-blue-600 hover:scale-105 transition-all duration-200 flex items-center justify-center z-50" 
                id="reportIssueFAB" 
                aria-label="Report new issue"
                data-event="click:openReportModal">
            <i class="fas fa-plus text-xl"></i>
        </button>
        <!-- @END_COMPONENT: FloatingActionButton -->
        
        <!-- @COMPONENT: ReportIssueModal -->
        <!-- @STATE: isModalOpen:boolean = false -->
        <div id="reportModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 hidden" data-modal="reportIssue">
            <div class="bg-white rounded-xl max-w-2xl w-full max-h-screen overflow-y-auto">
                <div class="flex justify-between items-center p-6 border-b border-gray-200">
                    <h2 class="text-2xl font-bold text-gray-900">Report New Issue</h2>
                    <button class="text-gray-400 hover:text-gray-600 transition-colors" id="closeModal" aria-label="Close modal">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <form class="p-6 space-y-6" data-event="submit:handleReportSubmission">
                    <!-- Title field -->
                    <div>
                        <label for="issueTitle" class="block text-sm font-medium text-gray-700 mb-2">
                            Issue Title *
                        </label>
                        <input type="text" 
                               id="issueTitle" 
                               name="title" 
                               required
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-civic-blue focus:border-transparent" 
                               placeholder="Briefly describe the issue..." />
                    </div>
                    
                    <!-- Category dropdown -->
                    <div>
                        <label for="issueCategory" class="block text-sm font-medium text-gray-700 mb-2">
                            Category *
                        </label>
                        <select id="issueCategory" 
                                name="category" 
                                required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-civic-blue focus:border-transparent">
                            <option value="">Select a category...</option>
                            <option value="garbage">üóëÔ∏è Waste Management</option>
                            <option value="water">üíß Water Issues</option>
                            <option value="roads">üöß Road Problems</option>
                            <option value="traffic">üö¶ Traffic Issues</option>
                            <option value="lighting">üí° Street Lighting</option>
                            <option value="parks">üå≥ Parks & Recreation</option>
                            <option value="other">üîß Other</option>
                        </select>
                    </div>
                    
                    <!-- Description -->
                    <div>
                        <label for="issueDescription" class="block text-sm font-medium text-gray-700 mb-2">
                            Description *
                        </label>
                        <textarea id="issueDescription" 
                                  name="description" 
                                  required
                                  rows="4"
                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-civic-blue focus:border-transparent resize-none" 
                                  placeholder="Provide details about the issue, including specific location and any relevant information..."></textarea>
                    </div>
                    
                    <!-- Location -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="flex items-center space-x-2 mb-2">
                                <i class="fas fa-map-marker-alt text-civic-blue"></i>
                                <span class="text-sm text-gray-700" data-bind="location.address">123 Main Street, Downtown</span>
                                <button type="button" class="text-civic-blue text-sm hover:underline" data-event="click:getCurrentLocation">
                                    üìç Use Current Location
                                </button>
                            </div>
                            <button type="button" class="text-civic-blue text-sm hover:underline" data-event="click:selectOnMap">
                                üó∫Ô∏è Select on Map
                            </button>
                        </div>
                    </div>
                    
                    <!-- Image upload -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Photos (Optional)
                        </label>
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-civic-blue transition-colors">
                            <i class="fas fa-camera text-4xl text-gray-400 mb-4"></i>
                            <p class="text-gray-600 mb-2">Click to upload photos or drag and drop</p>
                            <p class="text-sm text-gray-500">Up to 5 photos, max 10MB each</p>
                            <input type="file" 
                                   multiple 
                                   accept="image/*" 
                                   class="hidden" 
                                   id="issuePhotos"
                                   data-implementation="Should handle image preview and validation" />
                            <label for="issuePhotos" class="cursor-pointer inline-block mt-3 px-4 py-2 bg-civic-blue text-white rounded-lg hover:bg-blue-600 transition-colors">
                                Choose Photos
                            </label>
                        </div>
                        
                        <!-- Image preview area -->
                        <div id="imagePreview" class="mt-4 grid grid-cols-2 sm:grid-cols-3 gap-4 hidden">
                            <!-- Image previews will be inserted here dynamically -->
                        </div>
                    </div>
                    
                    <!-- Anonymous reporting option -->
                    <div class="flex items-center space-x-3">
                        <input type="checkbox" 
                               id="anonymousReport" 
                               name="anonymous"
                               class="w-4 h-4 text-civic-blue border-gray-300 rounded focus:ring-civic-blue" />
                        <label for="anonymousReport" class="text-sm text-gray-700">
                            Report anonymously (your identity will not be shown)
                        </label>
                    </div>
                    
                    <!-- Submit buttons -->
                    <div class="flex space-x-4 pt-4">
                        <button type="button" 
                                class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium"
                                id="cancelReport">
                            Cancel
                        </button>
                        <button type="submit" 
                                class="flex-1 px-6 py-3 bg-civic-blue text-white rounded-lg hover:bg-blue-600 transition-colors font-medium"
                                data-implementation="Should validate form before submission">
                            Submit Report
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <!-- @END_COMPONENT: ReportIssueModal -->
        
        <!-- @COMPONENT: IssueDetailView -->
        <!-- This would be a separate page/route in a real app -->
        <div id="issueDetailPage" class="hidden">
            <div class="max-w-4xl mx-auto px-4 py-8">
                
                <!-- Issue header -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6">
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex-1">
                            <div class="flex items-center space-x-3 mb-2">
                                <span class="text-3xl">üóëÔ∏è</span>
                                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-civic-blue text-white">
                                    <span class="w-2 h-2 bg-white rounded-full mr-2"></span>
                                    Reported
                                </span>
                            </div>
                            <h1 class="text-3xl font-bold text-gray-900 mb-2" data-bind="issue.title">
                                Overflowing garbage bins on Main Street
                            </h1>
                            <p class="text-gray-600" data-bind="issue.description">
                                Multiple garbage bins are overflowing near the intersection of Main St and Oak Ave. Trash is scattered around the area, creating unsanitary conditions and attracting pests.
                            </p>
                        </div>
                        <div class="ml-6 flex flex-col space-y-2">
                            <button class="flex items-center space-x-2 px-4 py-2 bg-civic-blue text-white rounded-lg hover:bg-blue-600 transition-colors" data-event="click:followIssue">
                                <i class="fas fa-bell"></i>
                                <span>Follow</span>
                            </button>
                            <button class="flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors" data-event="click:shareIssue">
                                <i class="fas fa-share"></i>
                                <span>Share</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Issue metadata -->
                    <div class="flex flex-wrap items-center gap-4 text-sm text-gray-600">
                        <div class="flex items-center space-x-1">
                            <i class="fas fa-user"></i>
                            <span data-bind="issue.reporter">Reported by Sarah Chen</span>
                        </div>
                        <div class="flex items-center space-x-1">
                            <i class="fas fa-clock"></i>
                            <span data-bind="issue.timestamp">2 hours ago</span>
                        </div>
                        <div class="flex items-center space-x-1">
                            <i class="fas fa-map-marker-alt"></i>
                            <span data-bind="issue.location">Main St & Oak Ave</span>
                        </div>
                        <div class="flex items-center space-x-1">
                            <i class="fas fa-arrow-up"></i>
                            <span data-bind="issue.upvotes">24 upvotes</span>
                        </div>
                    </div>
                </div>
                
                <!-- Issue images -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Photos</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Overflowing garbage bins on a city street -->
                        <img src="https://images.unsplash.com/photo-1565967511849-76a60a516170?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&h=300" alt="Overflowing garbage bins" class="rounded-lg shadow-sm w-full h-48 object-cover" />
                        <!-- Trash scattered around garbage area -->
                        <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=400&h=300" alt="Scattered trash around bins" class="rounded-lg shadow-sm w-full h-48 object-cover" />
                    </div>
                </div>
                
                <!-- Status Timeline -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Status Timeline</h3>
                    <div class="space-y-4">
                        <!-- @MAP: statusHistory.map(status => ( -->
                        <div class="flex items-start space-x-4">
                            <div class="w-8 h-8 bg-civic-blue rounded-full flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-exclamation text-white text-sm"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-1">
                                    <span class="font-medium text-gray-900">Issue Reported</span>
                                    <span class="text-sm text-gray-500" data-bind="status.timestamp">2 hours ago</span>
                                </div>
                                <p class="text-gray-600 text-sm" data-bind="status.description">
                                    Initial report submitted by Sarah Chen with photos and location details.
                                </p>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-4 opacity-50">
                            <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-tools text-white text-sm"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-1">
                                    <span class="font-medium text-gray-900">In Progress</span>
                                    <span class="text-sm text-gray-500">Pending</span>
                                </div>
                                <p class="text-gray-600 text-sm">
                                    City maintenance crew assigned to address the issue.
                                </p>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-4 opacity-50">
                            <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center flex-shrink-0">
                                <i class="fas fa-check text-white text-sm"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-1">
                                    <span class="font-medium text-gray-900">Resolved</span>
                                    <span class="text-sm text-gray-500">Pending</span>
                                </div>
                                <p class="text-gray-600 text-sm">
                                    Issue successfully resolved and verified.
                                </p>
                            </div>
                        </div>
                        <!-- @END_MAP )) -->
                    </div>
                </div>
                
                <!-- @COMPONENT: CommentsSection -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Comments (5)</h3>
                    
                    <!-- Comment form -->
                    <div class="mb-6">
                        <textarea class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-civic-blue focus:border-transparent resize-none" 
                                  rows="3" 
                                  placeholder="Add a comment..."
                                  data-implementation="Should handle comment submission"></textarea>
                        <div class="flex justify-end mt-2">
                            <button class="px-4 py-2 bg-civic-blue text-white rounded-lg hover:bg-blue-600 transition-colors" data-event="click:postComment">
                                Post Comment
                            </button>
                        </div>
                    </div>
                    
                    <!-- Comments list -->
                    <div class="space-y-4">
                        <!-- @MAP: comments.map(comment => ( -->
                        <div class="border-l-2 border-gray-100 pl-4" data-mock="true">
                            <div class="flex items-start space-x-3">
                                <div class="w-8 h-8 bg-civic-emerald rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-check text-white text-xs"></i>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 mb-1">
                                        <span class="font-medium text-gray-900" data-bind="comment.author">Mike Johnson</span>
                                        <span class="text-xs text-gray-500" data-bind="comment.timestamp">1 hour ago</span>
                                    </div>
                                    <p class="text-gray-700 text-sm" data-bind="comment.content">
                                        I've also noticed this issue. It's been getting worse over the past week. Thanks for reporting it!
                                    </p>
                                    <div class="flex items-center space-x-4 mt-2">
                                        <button class="text-xs text-gray-500 hover:text-civic-blue transition-colors" data-event="click:likeComment">
                                            üëç 3
                                        </button>
                                        <button class="text-xs text-gray-500 hover:text-civic-blue transition-colors" data-event="click:replyComment">
                                            Reply
                                        </button>
                                        <button class="text-xs text-gray-500 hover:text-red-500 transition-colors" data-event="click:flagComment">
                                            Flag
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- @END_MAP )) -->
                    </div>
                </div>
                <!-- @END_COMPONENT: CommentsSection -->
                
            </div>
        </div>
        <!-- @END_COMPONENT: IssueDetailView -->
        
    </div>
    <!-- @END_COMPONENT: AppContainer -->
    
    <script>
        // Basic modal functionality
        (function() {
            const reportFAB = document.getElementById('reportIssueFAB');
            const reportModal = document.getElementById('reportModal');
            const closeModal = document.getElementById('closeModal');
            const cancelReport = document.getElementById('cancelReport');
            
            function showModal() {
                reportModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }
            
            function hideModal() {
                reportModal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
            
            reportFAB?.addEventListener('click', showModal);
            closeModal?.addEventListener('click', hideModal);
            cancelReport?.addEventListener('click', hideModal);
            
            // Close modal when clicking outside
            reportModal?.addEventListener('click', (e) => {
                if (e.target === reportModal) {
                    hideModal();
                }
            });
            
            // Close modal on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !reportModal.classList.contains('hidden')) {
                    hideModal();
                }
            });
        })();
        
        // Filter functionality
        (function() {
            const filterButtons = document.querySelectorAll('[data-filter]');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active state from all filter buttons in the same group
                    const buttonType = this.getAttribute('data-filter');
                    const group = this.parentElement;
                    
                    if (buttonType !== 'distance') {
                        group.querySelectorAll('button').forEach(btn => {
                            btn.classList.remove('bg-civic-blue', 'text-white');
                            btn.classList.add('bg-gray-100', 'text-gray-700');
                        });
                        
                        // Add active state to clicked button
                        this.classList.remove('bg-gray-100', 'text-gray-700');
                        this.classList.add('bg-civic-blue', 'text-white');
                    }
                    
                    // TODO: Implement actual filtering logic
                    console.log('Filter applied:', buttonType);
                });
            });
        })();
        
        // Image upload preview functionality
        (function() {
            const photoInput = document.getElementById('issuePhotos');
            const previewContainer = document.getElementById('imagePreview');
            
            photoInput?.addEventListener('change', function(e) {
                const files = Array.from(e.target.files);
                previewContainer.innerHTML = '';
                
                if (files.length > 0) {
                    previewContainer.classList.remove('hidden');
                    
                    files.forEach((file, index) => {
                        if (index < 5) { // Limit to 5 images
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                const previewDiv = document.createElement('div');
                                previewDiv.className = 'relative';
                                previewDiv.innerHTML = `
                                    <img src="${e.target.result}" class="w-full h-24 object-cover rounded-lg" />
                                    <button type="button" class="absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full text-xs hover:bg-red-600 transition-colors" 
                                            onclick="this.parentElement.remove()">√ó</button>
                                `;
                                previewContainer.appendChild(previewDiv);
                            };
                            reader.readAsDataURL(file);
                        }
                    });
                } else {
                    previewContainer.classList.add('hidden');
                }
            });
        })();
        
        // Mock geolocation functionality
        (function() {
            const getCurrentLocationBtn = document.querySelector('[data-event="click:getCurrentLocation"]');
            const locationDisplay = document.querySelector('[data-bind="location.address"]');
            
            getCurrentLocationBtn?.addEventListener('click', function() {
                // Mock GPS location fetch
                this.textContent = 'üìç Getting location...';
                
                setTimeout(() => {
                    locationDisplay.textContent = '456 Oak Avenue, Downtown (Current Location)';
                    this.textContent = 'üìç Use Current Location';
                    
                    // TODO: Integrate with actual geolocation API
                    console.log('Mock location updated');
                }, 1500);
            });
        })();
        
        // TODO: Implement business logic for:
        // - Real map integration (Google Maps, Mapbox, etc.)
        // - API calls for issue reporting, comments, voting
        // - State management for filters and data
        // - Real-time updates for issue status changes
        // - User authentication and verification
        // - Image upload to cloud storage
        // - Push notifications for followed issues
    </script>
</body>
</html>