@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 249, 250, 251; /* Snow White #F9FAFB */
  --foreground: 30, 41, 59; /* Dark Slate #1E293B */
  --muted: 241, 245, 249; /* Light Gray #F1F5F9 */
  --muted-foreground: 203, 213, 225; /* Slate Gray #CBD5E1 */
  --popover: 249, 250, 251;
  --popover-foreground: 30, 41, 59;
  --card: 241, 245, 249; /* Light Gray #F1F5F9 */
  --card-foreground: 30, 41, 59;
  --border: 203, 213, 225; /* Slate Gray #CBD5E1 */
  --input: 203, 213, 225;
  --primary: 37, 99, 235; /* Civic Blue #2563EB */
  --primary-foreground: 255, 255, 255;
  --secondary: 241, 245, 249;
  --secondary-foreground: 30, 41, 59;
  --accent: 241, 245, 249;
  --accent-foreground: 30, 41, 59;
  --destructive: 239, 68, 68; /* Red #EF4444 */
  --destructive-foreground: 255, 255, 255;
  --ring: 37, 99, 235;
  --radius: 0.5rem;
  
  /* CivicTrack custom colors */
  --civic-blue: 37, 99, 235; /* #2563EB */
  --civic-amber: 245, 158, 11; /* Orange Amber #F59E0B */
  --civic-emerald: 16, 185, 129; /* Map Green #10B981 */
  --civic-red: 239, 68, 68; /* Red #EF4444 */
  --civic-light-green: 209, 250, 229; /* Light Green #D1FAE5 */
  --civic-success: 16, 185, 129;
}

.dark {
  --background: 0, 0, 0; /* Pure Black #000000 */
  --foreground: 255, 255, 255; /* White */
  --muted: 31, 41, 55; /* Dark gray for muted areas */
  --muted-foreground: 156, 163, 175; /* Light gray for muted text */
  --popover: 0, 0, 0;
  --popover-foreground: 255, 255, 255;
  --card: 17, 24, 39; /* Very dark gray for cards */
  --card-foreground: 255, 255, 255;
  --border: 55, 65, 81; /* Dark border */
  --input: 55, 65, 81;
  --primary: 37, 99, 235; /* Keep civic blue for contrast */
  --primary-foreground: 255, 255, 255;
  --secondary: 31, 41, 55;
  --secondary-foreground: 255, 255, 255;
  --accent: 31, 41, 55;
  --accent-foreground: 255, 255, 255;
  --destructive: 239, 68, 68;
  --destructive-foreground: 255, 255, 255;
  --ring: 37, 99, 235;
  --radius: 0.5rem;
  
  /* Dark mode adjustments for custom colors */
  --civic-light-green: 6, 78, 59; /* Darker green for dark mode */
}

/* Dialog overlay fix - ensure solid background */
[data-radix-dialog-overlay] {
  background-color: rgba(0, 0, 0, 0.6) !important;
  backdrop-filter: blur(4px);
}

[data-radix-dialog-content] {
  background-color: rgb(var(--background)) !important;
  border: 1px solid rgb(var(--border)) !important;
}

/* 3D Loading Animation */
.loading-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  transition: opacity 0.5s ease-out;
}

.loading-cube {
  width: 60px;
  height: 60px;
  position: relative;
  transform-style: preserve-3d;
  animation: rotate3d 2s infinite linear;
}

.cube-face {
  position: absolute;
  width: 60px;
  height: 60px;
  background: linear-gradient(45deg, #2563EB, #3B82F6);
  border: 2px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 0 20px rgba(37, 99, 235, 0.5);
}

.cube-face.front {
  transform: translateZ(30px);
}

.cube-face.back {
  transform: translateZ(-30px) rotateY(180deg);
}

.cube-face.right {
  transform: rotateY(90deg) translateZ(30px);
}

.cube-face.left {
  transform: rotateY(-90deg) translateZ(30px);
}

.cube-face.top {
  transform: rotateX(90deg) translateZ(30px);
}

.cube-face.bottom {
  transform: rotateX(-90deg) translateZ(30px);
}

@keyframes rotate3d {
  0% {
    transform: rotateX(0deg) rotateY(0deg);
  }
  25% {
    transform: rotateX(90deg) rotateY(0deg);
  }
  50% {
    transform: rotateX(90deg) rotateY(90deg);
  }
  75% {
    transform: rotateX(0deg) rotateY(90deg);
  }
  100% {
    transform: rotateX(0deg) rotateY(180deg);
  }
}

.loading-text {
  color: white;
  font-size: 1.5rem;
  font-weight: 600;
  margin-top: 2rem;
  text-align: center;
  animation: pulse 2s infinite;
}

.loading-subtext {
  color: rgba(255, 255, 255, 0.8);
  font-size: 1rem;
  margin-top: 0.5rem;
  text-align: center;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.progress-bar {
  width: 200px;
  height: 4px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 2px;
  margin-top: 1rem;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #ffffff, #3B82F6);
  border-radius: 2px;
  transition: width 0.3s ease-out;
}

/* Enhanced cube faces with civic theme */
.cube-face {
  background: linear-gradient(45deg, #2563EB, #10B981) !important;
  box-shadow: 
    0 0 20px rgba(37, 99, 235, 0.4),
    inset 0 0 20px rgba(255, 255, 255, 0.1) !important;
}

.cube-face::before {
  content: 'üèõÔ∏è';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 1.5rem;
  opacity: 0.8;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased transition-colors duration-300;
    background-color: rgb(var(--background));
    color: rgb(var(--foreground));
  }
  
  /* Updated component base styles */
  .bg-background {
    background-color: rgb(var(--background));
  }
  
  .bg-card {
    background-color: rgb(var(--card));
  }
  
  .text-foreground {
    color: rgb(var(--foreground));
  }
  
  .text-muted-foreground {
    color: rgb(var(--muted-foreground));
  }
  
  .border-border {
    border-color: rgb(var(--border));
  }
}

@layer utilities {
  .civic-blue {
    color: rgb(var(--civic-blue));
  }
  .bg-civic-blue {
    background-color: rgb(var(--civic-blue));
  }
  .civic-amber {
    color: rgb(var(--civic-amber));
  }
  .bg-civic-amber {
    background-color: rgb(var(--civic-amber));
  }
  .civic-emerald {
    color: rgb(var(--civic-emerald));
  }
  .bg-civic-emerald {
    background-color: rgb(var(--civic-emerald));
  }
  .civic-red {
    color: rgb(var(--civic-red));
  }
  .bg-civic-red {
    background-color: rgb(var(--civic-red));
  }
  .bg-civic-light-green {
    background-color: rgb(var(--civic-light-green));
  }
  .bg-civic-success {
    background-color: rgb(var(--civic-success));
  }
  
  /* Animation utilities */
  .animate-toast-in {
    animation: toast-in 0.3s ease-out;
  }
  
  .animate-toast-out {
    animation: toast-out 0.2s ease-in;
  }
}

@keyframes toast-in {
  from {
    opacity: 0;
    transform: translateY(-100%) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes toast-out {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-100%) scale(0.9);
  }
}

/* Utility classes */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}
